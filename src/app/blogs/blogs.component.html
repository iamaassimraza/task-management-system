<!-- <!DOCTYPE html> -->
<!-- <html> -->

<body class="page-header-fixed">
    <main class="page-content content-wrap">
        <app-header></app-header>
        <app-sidebar></app-sidebar>
        <div class="page-inner">
            <div class="page-title">
                <h3>Blogs</h3>
                <div class="page-breadcrumb">
                    <ol class="breadcrumb">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#">Blogs</a></li>
                    </ol>
                </div>
            </div>

            <!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
                Launch demo modal
              </button> -->
              
              <!-- Modal -->
              <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      ...
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                  </div>
                </div>
              </div>
            <div id="main-wrapper">
                <div class="row">
                    <div class="col-md-12">



                        <div class="panel panel-white">
                       
                            <!-- <div class="panel-heading">
                                <h4 class="panel-title col-8" style=" padding-top: 7px;">Blogs</h4>
                                <button type="button" style="display: flex; align-items: center;" class="btn btn-success col-2 btn1" data-toggle="modal"
                                    data-target="#myModal"  (click)="clearbox()" ><i class="fa fa-plus" style="margin-right: 8px;"></i> Add New</button>
                            </div> -->
                            
                            <div class="panel-heading actionsRow">
                                <h4 class="panel-title col-8" style=" padding-top: 7px;">Blogs</h4>
                                <button type="button" style="display: flex; align-items: center;margin-top: 0px;" class="btn btn-success col-2 btn1" 
                                (click)="clearbox()" ><span class="material-icons " style="margin-right: 8px;" >add</span>Add New </button>
                            </div>

                                <!-- Modal -->
                                <form [formGroup]="blogForm">
                                    <div class="modal fade" id="myModal" tabindex="-1" role="dialog"
                                        aria-labelledby="myModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal"
                                                        aria-label="Close"><span
                                                            aria-hidden="true">&times;</span></button>
                                                    <h4 class="modal-title" id="myModalLabel">Blog</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                    <div class=" col-lg-6" >
                                                            <mat-form-field appearance="outline" style="width: 100%;">
                                                                <mat-label>Title</mat-label>
                                                                <input matInput  formControlName="blog_title" >
                                                              </mat-form-field>
                                                    </div>
                                                    <div class=" col-lg-6">
                                                            <mat-form-field appearance="outline" style="width: 100%; ">
                                                                <mat-label>Posted by</mat-label>
                                                                <input matInput  formControlName="posted_by">
                                                              </mat-form-field>
                                                    </div>
                                                </div>
                                               
                                                 <div class="row">
                                                    <div class=" col-lg-8">
                                                        <mat-form-field appearance="outline" style="width: 100%;">
                                                            <mat-label>Description</mat-label>
                                                            <textarea matInput  formControlName="blog_description"style="
                                                            height: 68px;
                                                            
                                                        " ></textarea>
                                                          </mat-form-field>
                                                    </div>
                                                    <div class=" col-lg-4">
                                                        <div class="col-6">
                                                            <div class="" style="display: flex; justify-content: end; align-items: center;">
                                                            <div style="" class="upload emptyfield"
                                                            >
                                                            <img *ngIf="!cloudUpload" class="img_preview" 
                                                                src="{{img_url}}blogs_images/{{blogForm.controls.imageName.value}}">
                                                            <input formControlName="image" style="display: none;"
                                                                type="file" (change)="onFileSelected($event)"
                                                                accept="image/*" #file>
                                                            <span *ngIf="cloudUpload" (click)="file.click()">
                                                                <span class="material-icons">cloud_upload</span></span>
                                                            </div>
                                                        </div></div>
                                                        <div class="col-6">
                                                            <div (click)="file.click()" style=""
                                                                class="up_img_text field btn1"> Upload User Image</div>
                                                        </div>
                                                    </div>   
                                                 </div>
                                                </div>
                                            
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default"
                                                        data-dismiss="modal">Cancel</button>
                                                    <button type="button" [attr.data-dismiss]="blogForm.valid ? 'modal' : null"  (click)="onsubmit(blogForm.value)" class="btn btn-success btn1" style="" >{{btn_modal}}</button>
                                                         
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                                <div class="panel-body">
                                <div class="table-responsive">
                                    <table id="example3" class="display table" style="width: 100%;">
                                        <thead>
                                            <tr>
                                                <th>Id</th>
                                                <th>Title</th>
                                                <th>Posted by</th>
                                                <th>Details</th>
                                                <th>Image</th>
                                                <th style="text-align: center;" >Actions</th>
                                            </tr>
                                        </thead>

                                        <tbody *ngFor="let i of allblogs | paginate : {
                                            itemsPerPage : 10,
                                            currentPage : p,
                                            totalItems : totallength}; let o = index">
                                            <tr>
                                                <td> {{i.tbl_blog_id}}</td>
                                                <td style="
                                                width: 150px;
                                            " >{{i.blog_title}}</td>
                                                <td>{{i.posted_by}}</td>
                                                <td style="
                                                width: 600px;
                                                /* padding-left: 10px !important; */
                                                padding-right: 10px !important;
                                            " >{{i.blog_description}}</td>
                                                <td>
                                    
                                                    <img   src="{{img_url}}blogs_images/{{i.blog_image}}"
                                                    alt="" style="height: 78px;width: 168px;object-fit: contain;">
                                                </td>


                                             

                                                <td
                                                    class="d-flex align-items-center flex-row" style="
                                                   text-align: center;
                                                " >
                                                    <a class=" btn edit" data-toggle="modal"
                                                    data-target="#myModal"  (click)="edit(i.tbl_blog_id)">Edit</a>
                                                    <a data-bs-toggle="modal" class="btn delete"
                                                         (click)="delete_blog(i.tbl_blog_id)">Delete</a>
                                                    
                                                    
                                                  
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <span class="error" *ngIf="no_record">No Record</span>
                                    <div *ngIf="hidepaginatoin" class="d-flex justify-content-end" style="
                                    display: flex;
                                    justify-content: flex-end;
                                " >
                                        <pagination-controls previousLabel="Prev" nextLabel="Next"
                                            (pageChange)="p=$event">
                                        </pagination-controls>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- Row -->
            </div><!-- Main Wrapper -->
            <div class="page-footer">
                <p class="no-s">2015 &copy; Modern by Steelcoders.</p>
            </div>
        </div><!-- Page Inner -->
    </main><!-- Page Content -->
    <app-footernav></app-footernav>
    <div class="cd-overlay"></div>


    <!-- Javascripts -->

    <script src="../../assets/js/pages/table-data.js"></script>

</body>

<!-- </html> -->